@use "../../settings" as *;
@use "../../tools" as *;

.p-about {
    &__hero {
        min-height: 60vh;
        padding: var(--spacing-2xl) 0;
        position: relative;
        overflow: hidden;

        &-content {
            z-index: 1;
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }

        &-image {
            width: 200px;
            height: 200px;
            margin: 0 auto var(--spacing-xl);
            border-radius: 50%;
            overflow: hidden;
            border: 4px solid var(--color-background);

            [data-theme="light"] & {
                box-shadow: var(--site-shadow-lg);
            }

            [data-theme="dark"] & {
                box-shadow: var(--site-shadow-xl);
            }

            img {
                width: 100%;
                height: 100%;
                object-fit: cover;

                [data-theme="dark"] & {
                    filter: brightness(0.8) contrast(1.2);
                }
            }
        }

        &-title {
            @include font-size("4xl", true);
            color: var(--color-text);
            margin-bottom: var(--spacing-md);

            &--gradient {
                background: var(--site-gradient-primary);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }
        }

        &-subtitle {
            @include font-size("xl");
            @include font-family("mono");
            color: var(--color-accent);
            margin-bottom: var(--spacing-lg);
        }

        &-meta {
            display: flex;
            gap: var(--spacing-md);
            justify-content: center;
            flex-wrap: wrap;

            .c-badge {
                backdrop-filter: blur(10px);
            }
        }
    }

    &__intro {
        padding: var(--spacing-2xl) 0;

        .c-content {
            max-width: 720px;
            margin: 0 auto;
        }
    }

    // Skills, Experience, Education, Interests share similar card styles
    @each $section in "skills", "experience", "education", "interests" {
        &__#{$section} {
            padding: var(--spacing-2xl) 0;

            @if $section == "skills" or $section == "education" {
                .p-about__#{$section}-grid {
                    display: grid;
                    gap: var(--spacing-lg);

                    @include media-up("md") {
                        grid-template-columns: repeat(3, 1fr);
                    }
                }

                &-card {
                    background: var(--color-card-background);
                    border-radius: var(--site-radius-lg);
                    padding: var(--spacing-lg);
                    border: 1px solid var(--color-border);
                    @include transition(
                        background-color,
                        transform,
                        border-color
                    );

                    [data-theme="light"] & {
                        box-shadow: var(--site-shadow);
                    }

                    [data-theme="dark"] & {
                        background: rgba(var(--color-primary-light), 0.1);
                        backdrop-filter: blur(10px);
                        box-shadow: var(--site-shadow-lg);
                    }

                    &:hover {
                        transform: translateY(-4px);
                        border-color: var(--color-accent);
                    }
                }

                @if $section == "skills" {
                    &-card {
                        &-icon {
                            width: 48px;
                            height: 48px;
                            margin-bottom: var(--spacing-md);
                            color: var(--color-accent);
                        }

                        &-title {
                            @include font-size("xl");
                            color: var(--color-text);
                            margin-bottom: var(--spacing-md);
                        }

                        &-list {
                            @include font-family("mono");
                            @include font-size("sm");

                            &-item {
                                margin-bottom: var(--spacing-sm);

                                &:last-child {
                                    margin-bottom: 0;
                                }

                                &-content {
                                    display: flex;
                                    justify-content: space-between;
                                    align-items: center;
                                    margin-bottom: var(--spacing-xs);
                                }

                                &-name {
                                    color: var(--color-text);
                                }

                                &-level {
                                    @include font-size("sm");
                                    color: var(--color-text-muted);
                                }
                            }
                        }

                        &-progress {
                            &-bar {
                                height: 4px;
                                background: var(--color-surface);
                                border-radius: var(--site-radius-full);
                                overflow: hidden;

                                &-fill {
                                    height: 100%;
                                    background: var(--color-accent);
                                    border-radius: var(--site-radius-full);
                                    @include transition(width);
                                }
                            }
                        }
                    }
                } @else if $section == "education" {
                    &-card {
                        &-school {
                            color: var(--color-accent);
                            margin-bottom: var(--spacing-sm);
                            @include font-family("mono");
                            @include font-size("sm");
                        }

                        &-date {
                            @include font-size("sm");
                            @include font-family("mono");
                            color: var(--color-text-muted);
                        }

                        &-description {
                            margin-top: var(--spacing-sm);
                            color: var(--color-text-muted);
                        }
                    }
                }
            } @else if $section == "experience" {
                .p-about__#{$section}-timeline {
                    position: relative;
                    max-width: 800px;
                    margin: 0 auto;
                    padding-left: var(--spacing-xl);

                    &::before {
                        content: "";
                        position: absolute;
                        left: 0;
                        top: 0;
                        bottom: 0;
                        width: 2px;
                        background: var(--color-border);
                        @include transition(background-color);
                    }

                    &-item {
                        position: relative;
                        padding-bottom: var(--spacing-xl);

                        &:last-child {
                            padding-bottom: 0;
                        }

                        &::before {
                            content: "";
                            position: absolute;
                            left: calc(var(--spacing-xl) * -1);
                            top: 0;
                            width: 16px;
                            height: 16px;
                            background: var(--color-accent);
                            border-radius: 50%;
                            transform: translateX(-7px);
                        }

                        &-date {
                            @include font-size("sm");
                            @include font-family("mono");
                            color: var(--color-text-muted);
                            margin-bottom: var(--spacing-xs);
                        }

                        &-title {
                            @include font-size("xl");
                            color: var(--color-text);
                            margin-bottom: var(--spacing-xs);
                        }

                        &-company {
                            color: var(--color-accent);
                            margin-bottom: var(--spacing-sm);
                            @include font-family("mono");
                            @include font-size("sm");
                        }

                        &-description {
                            color: var(--color-text-muted);
                            margin-bottom: var(--spacing-sm);
                        }

                        &-achievements {
                            list-style: none;
                            padding: 0;
                            margin: 0;

                            li {
                                position: relative;
                                padding-left: var(--spacing-lg);
                                color: var(--color-text-muted);
                                margin-bottom: var(--spacing-xs);

                                &:last-child {
                                    margin-bottom: 0;
                                }

                                &::before {
                                    content: "â†’";
                                    position: absolute;
                                    left: 0;
                                    color: var(--color-accent);
                                }
                            }
                        }
                    }
                }
            } @else if $section == "interests" {
                .p-about__#{$section}-grid {
                    display: grid;
                    gap: var(--spacing-lg);

                    @include media-up("md") {
                        grid-template-columns: repeat(3, 1fr);
                    }
                }

                &-card {
                    text-align: center;
                    padding: var(--spacing-lg);
                    background: var(--color-surface);
                    border-radius: var(--site-radius-lg);
                    border: 1px solid var(--color-border);
                    @include transition(
                        background-color,
                        transform,
                        border-color
                    );

                    [data-theme="light"] & {
                        box-shadow: var(--site-shadow);
                    }

                    [data-theme="dark"] & {
                        background: rgba(var(--color-primary-light), 0.1);
                        backdrop-filter: blur(10px);
                        box-shadow: var(--site-shadow-lg);
                    }

                    &:hover {
                        transform: translateY(-4px);
                        border-color: var(--color-accent);
                    }

                    &-icon {
                        width: 48px;
                        height: 48px;
                        margin: var(--spacing-md) 0;
                        color: var(--color-accent);

                        svg {
                            width: 100%;
                            height: 100%;
                        }
                    }

                    &-title {
                        @include font-size("lg");
                        color: var(--color-text);
                        margin-bottom: var(--spacing-sm);
                    }

                    &-description {
                        color: var(--color-text-muted);
                    }
                }
            }
        }
    }

    // Animation variants
    &--animate {
        .p-about__hero-content > * {
            opacity: 0;

            @for $i from 1 through 5 {
                &:nth-child(#{$i}) {
                    animation-delay: #{$i * 0.1}s;
                }
            }

            @include slide-up();
        }

        @each $section in "skills", "experience", "education", "interests" {
            .p-about__#{$section}-card {
                opacity: 0;

                @for $i from 1 through 6 {
                    &:nth-child(#{$i}) {
                        animation-delay: #{$i * 0.1 + 0.3}s;
                    }
                }

                @include fade-in();
            }
        }
    }
}

// Responsive adjustments
@include media-down("md") {
    .p-about {
        &__hero {
            &-title {
                @include font-size("3xl");
            }

            &-subtitle {
                @include font-size("lg");
            }

            &-image {
                width: 150px;
                height: 150px;
            }
        }

        &__skills-grid,
        &__interests-grid {
            grid-template-columns: 1fr;
        }

        &__experience-timeline {
            padding-left: var(--spacing-lg);
        }

        &__education-grid {
            grid-template-columns: 1fr;
        }
    }
}
